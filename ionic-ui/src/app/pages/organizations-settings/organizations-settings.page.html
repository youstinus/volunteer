<app-header>{{orgSettingsHeader}}</app-header>

<ion-content padding>

    <form [formGroup]="onSaveForm" class="list-form">
        <ion-card>
            <ion-card-header>
                <ion-card class="myCard" lines="none">
                    &nbsp;
                    <div class="tools col col-50">
                        <ion-item lines="none">
                            <img *ngIf="backupImageUrl" [src]="backupImageUrl" (error)="updateUrl()"
                                (!error)="updateUrl2()" class="center" style="height: 200px; width: 400px" />
                        </ion-item>
                        <div>
                            <ion-item lines="none">
                                <ion-label color="black" position="floating">{{orgSettingsImage}}</ion-label>
                                <ion-input type="text" class="form-control"
                                    (ionChange)="onSearchChange($event.target.value)" debounce="1000"
                                    formControlName="imageUrl" value={{organization.imageUrl}}></ion-input>
                            </ion-item>
                        </div>
                    </div>

                </ion-card>
            </ion-card-header>

            <ion-card-content>
                <ion-item no-padding class="animated fadeInUp">
                    <ion-label position="floating">
                        {{orgSettingsTitle}}:
                    </ion-label>
                    <ion-input formControlName="title" clearInput value={{organization.title}}></ion-input>
                </ion-item>
                <p ion-text *ngIf="onSaveForm.get('title').touched && onSaveForm.get('title').errors">
                    <ion-text class="error-message">
                        {{orgRequiredField3}}
                    </ion-text>
                </p>

                <ion-item no-padding class="animated fadeInUp">
                    <ion-label position="floating">
                        {{orgSettingsAddress}}:
                    </ion-label>
                    <ion-input formControlName="address" clearInput value={{organization.address}}></ion-input>
                </ion-item>

                <ion-item no-padding class="animated fadeInUp">
                    <ion-label position="floating">
                        {{orgSettingsPhone}}:
                    </ion-label>
                    <ion-input formControlName="phone" clearInput value={{organization.phone}}></ion-input>
                </ion-item>
                <ion-item no-padding class="animated fadeInUp">
                    <ion-label position="floating">
                        {{orgSettingsEmail}}:
                    </ion-label>
                    <ion-input formControlName="email" clearInput value={{organization.email}}></ion-input>
                </ion-item>
                <p ion-text *ngIf="onSaveForm.get('email').touched && onSaveForm.get('email').errors">
                    <ion-text class="error-message">
                        {{orgRequiredEmail}} </ion-text>
                </p>

                <ion-item no-padding class="animated fadeInUp">
                    <ion-label position="floating">
                        {{orgSettingsWebsite}}:
                    </ion-label>
                    <ion-input clearInput formControlName="website" value={{organization.website}}></ion-input>
                </ion-item>

                <ion-item lines="none">
                    <ion-label>
                        <h1>{{orgSettingsDescription}}:</h1>
                    </ion-label>
                </ion-item>
                <ion-textarea formControlName="description" value={{organization.description}}></ion-textarea>


                <ion-item lines="none" [hidden]="true">
                    <ion-input formControlName="userId" type="text"></ion-input>
                </ion-item>

            </ion-card-content>
        </ion-card>
        <p ion-text
            *ngIf="((onSaveForm.get('email').touched && onSaveForm.get('email').errors)||(onSaveForm.get('title').touched && onSaveForm.get('title').errors) ||
        (onSaveForm.get('imageUrl').touched && onSaveForm.get('imageUrl').errors) || organization.imageUrl=== null || organization.imageUrl=== '' )">
            <ion-text class="caution-message">
                {{orgCaution}}
            </ion-text>
        </p>
        <ion-button icon-left size="medium" expand="full" shape="round" color="dark" [disabled]="!onSaveForm.valid"
            (click)="saveOrganization()">
            {{orgSettingsSaveChanges}}
        </ion-button>
        <ion-card-content>

            <ion-button (click)="onChangePass()" style="font-size: 12px" size="small" color="dark" shape="round">
                {{orgSettingsChangePass}}
            </ion-button>

            <ion-button style=" float: right; font-size: 12px" size="small" color="dark" shape="round"
                (click)="onDelete()">
                {{orgSettingsDeleteAcc}}
            </ion-button>

        </ion-card-content>
    </form>
</ion-content>