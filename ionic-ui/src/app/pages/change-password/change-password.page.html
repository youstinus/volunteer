<ion-content padding>

  &nbsp;
  <div class="auth-content">
    <!-- Logo -->
    <div padding-horizontal text-center>
      <div class="logo"></div>
      <h2 no-margin class="h2">
          <strong>Reset your password</strong>
      </h2>
    </div>
    &nbsp;
    
    <fieldset class="fieldset">
      <legend class="forLegend">
         <strong> Needed information: </strong>
      </legend>

    <!-- Register form -->
    <form [formGroup]="changePasswordForm" class="list-form">
      <div *ngIf="(role!=4)">
      <ion-item no-padding class="animated fadeInUp">
        <ion-label position="floating">
          <ion-icon name="key" item-start></ion-icon>
          Enter your old password
        </ion-label>
        <ion-input type="text" formControlName="oldPassword"></ion-input>
        <!--value="{{user.username}}"-->
      </ion-item>
      </div>
      <p ion-text
        *ngIf="changePasswordForm.get('oldPassword').touched && changePasswordForm.get('oldPassword').errors">
        <ion-text class="error-message">
          This field is required
        </ion-text>
      </p>


      <ion-item no-padding class="animated fadeInUp">
        <ion-label position="floating">
          <ion-icon name="lock" item-start></ion-icon>
          New password
        </ion-label>
        <ion-input type="password" formControlName="password1"></ion-input>
      </ion-item>
      <p ion-text
        *ngIf="changePasswordForm.get('password1').touched && changePasswordForm.get('password1').errors">
        <ion-text class="error-message">
          This field is required and must contain at least 5 characters
        </ion-text>
      </p>

      <ion-item no-padding class="animated fadeInUp">
        <ion-label position="floating">
          <ion-icon name="lock" item-start></ion-icon>
          Confirm password
        </ion-label>
        <ion-input type="password" formControlName="password"></ion-input>
      </ion-item>
      <p ion-text
        *ngIf="changePasswordForm.get('password').touched && changePasswordForm.get('password').hasError('required')">
        <ion-text class="error-message">
          This field is required
        </ion-text>
      </p>

      <p ion-text
        *ngIf="changePasswordForm.get('password').touched && changePasswordForm.get('password').errors && changePasswordForm.get('password').errors.ConfirmPassword">
        <ion-text class="error-message">
          Passsword and ConfirmPassword do not match.
        </ion-text>
      </p>

      &nbsp;

    </form>
  </fieldset>

    <div margin-top>
      <ion-button icon-left size="medium" expand="full" shape="round" color="dark" (click)="changePassword()"
        [disabled]="!changePasswordForm.valid" tappable>
        Change password
      </ion-button>

    </div>

    &nbsp;

  </div>
  
</ion-content>